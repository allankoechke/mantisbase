@page embedding Embedding Mantis

Mantis is designed as a lightweight C++ library that can be embedded directly into your desktop, mobile, or embedded application. This guide explains how to integrate Mantis into your project, configure it, and expose APIs through your own app.

---

## ğŸ”§ Why Embed Mantis?

- Add full-featured local storage and REST API support to your Qt, Slint, or CLI app.
- Serve data to local UI components through HTTP or direct C++ API calls.
- Retain full control of the application lifecycle and logic.

---

## Dependencies
On Linux, Mantis depends on ZSTD and libpq for PostgreSQL linkage, both of which a can be installed by running the commands below;

```shell
sudo apt-get install -y libzstd-dev
sudo apt install libpq-dev
```

## ğŸ“¦ Integration Options

### **As a Static or Shared Library**
Link the compiled `libmantis.a` or `libmantis.so` into your CMake project:

```cmake
add_subdirectory(mantis)
target_link_libraries(your_app PRIVATE mantis)
```

---

## ğŸ§± Minimal Example

```cpp
#include "../include/mantis/app/app.h"

int main(const int argc, char* argv[])
{
    auto& app = mb::MantisApp::create(argc, argv);
    return app.run();
}
```

---

## ğŸ“‚ Example Project Structure

```
your-app/
â”œâ”€â”€ main.cpp
â”œâ”€â”€ config.json
â”œâ”€â”€ public/              # Static assets
â””â”€â”€ mantis/              # Submodule or library
```

---

## ğŸ§ª Testing in Embedded Context

Use tools like `curl` or Postman to test your APIs:

```bash
curl http://localhost:7070/api/users
```

In Qt, you can use `QNetworkAccessManager` to consume the local REST APIs.

---

## ğŸ› ï¸ Advanced: Use Mantis as a Submodule

```bash
git submodule add https://github.com/allankoechke/mantis.git
git submodule update --init --recursive
```

Then link and include as part of your build system.

---

## ğŸ“Œ Notes

- Mantis APIs respect all access rules and auth even in embedded mode.

---

## âœ… Result

By embedding Mantis, you gain powerful backend features â€” including database storage, auth, and syncing â€” without requiring a separate server deployment.

